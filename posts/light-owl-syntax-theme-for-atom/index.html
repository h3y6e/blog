<!DOCTYPE html> <html lang=ja > <head prefix="og: https://ogp.me/ns#"> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width,initial-scale=1,maximum-scale=1" /> <meta name=author  content=heyhoe  /> <meta name=theme-color  content="#2f2f2f" /> <link rel=stylesheet  href="/css/a5ebec.css" /> <link rel=icon  href="/assets/favicon/favicon.ico" /> <link rel=apple-touch-icon  href="/assets/favicon/apple-touch-icon.png" /> <meta property="og:site_name" content="#a5ebec" /> <meta property="og:image" content="https://blog.h3y6e.com/img/2019-12-23/light-owl-syntax.jpg" /> <meta name="twitter:card" content=summary_large_image  /> <meta name="twitter:site" content="@h3y6e" /> <meta name="twitter:creator" content="@h3y6e" /> <head prefix="og: https://ogp.me/ns#"> <title> 誰得なAtomのSyntax themeを作った :: #a5ebec </title> <meta name=description  content="Atomは好きですか？ライトテーマは好きですか？Juliaは好きですか？" /> <meta property="og:type" content=article  /> <meta property="og:title" content="誰得なAtomのSyntax themeを作った :: #a5ebec" /> <meta property="og:url" content="https://blog.h3y6e.com/posts/light-owl-syntax-theme-for-atom/index.html" /> <meta property="og:description" content="Atomは好きですか？ライトテーマは好きですか？Juliaは好きですか？" /> <script src="/libs/scripts/noflash.js"></script> <header> <div class=header-inner > <div class=header-logo > <a href="/"><div class=logo >#a5ebec</div></a> </div> <label for=menu-trigger  class=menu >menu</label> </div> <input type=checkbox  id=menu-trigger  /> <nav> <ul> <li><a href="/">Posts</a> <li><a href="/tags">Tags</a> <li><a href="/about">About</a> <li><a href="/feed.xml">RSS</a> <li class=theme-switcher ><button id=theme-switcher >Theme</button> </ul> </nav> </header> <div class=franklin-headline > <h1 class=title >誰得なAtomのSyntax themeを作った</h1> <div class=date >2019-12-23</div><span class=tags ><a href="/tags/camphor">#camphor</a> <a href="/tags/adventcalendar">#adventcalendar</a> <a href="/tags/atom">#atom</a> <a href="/tags/vscode">#vscode</a> <a href="/tags/julia">#julia</a> </span></div><div class=franklin-toc ><ol><li><a href="#経緯">経緯</a><li><a href="#syntax_themeの作り方">Syntax themeの作り方</a><li><a href="#できたもの">できたもの</a><li><a href="#まとめ">まとめ</a><ol><li><a href="#あとがき">あとがき</a></ol></ol></div> <div class=franklin-content > <p>この記事は <a href="https://advent.camph.net/">CAMPHOR- Advent Calendar</a> 2019の23日目の記事です。<br/> 22日目の記事は<a href="https://twitter.com/kazbno">kazbno</a>氏による<a href="http://kaz7890.hatenablog.com/entry/simple-riscv">Verilogでミニプロセッサを実装してみた</a>でした。</p> <p>おはようございます、へいほぅ（<a href="https://twitter.com/h3y6e">@h3y6e</a>）です。3日後に卒論の中間発表ですが進捗が無くてとても辛いです。</p> <p>今回は最近研究の合間にぼちぼち作っているAtomのSyntax themeの話をします。</p> <p><a href="https://atom.io/themes/light-owl-syntax"><img src="/img/2019-12-23/light-owl-syntax.jpg" alt="Light Owl Syntax" /></a></p> <h2 id="経緯"><a href="#経緯" class=header-anchor >経緯</a></h2> <h4 id="atomとの出会いそして別"><a href="#atomとの出会いそして別" class=header-anchor >Atomとの出会い、そして別</a></h4> <p>皆さん、Atom使っていますか。<br/> 「皆さん◯◯使っていますか」構文は多くの記事で見られ、僕も利用しますが、◯◯が使われていない前提で利用するのは初めてです。</p> <p>僕がAtomに初めて出会ったのは3年前、京大マイコンクラブ（KMC）の新歓でインストールした時でした。 その後様々なテキストエディタの存在を知り、色々と（Sublime Text 3/Spacemacs/SpaceVim/NeoVim/etc...）手を出してはいましたが、Atomへの慣れと信仰心から何らかの形で使い続けていました。</p> <blockquote class=twitter-tweet  data-theme=dark ><p lang=ja  dir=ltr >これに勝てるLaTeXエディタを俺は知らない <a href="https://t.co/3Ymy6zhaen">pic.twitter.com/3Ymy6zhaen</a></p>&mdash; へいほぅ (@h3y6e) <a href="https://twitter.com/h3y6e/status/1065872335108956161?ref_src=twsrc%5Etfw">November 23, 2018</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset=utf-8 ></script> <p>&#40;ちなみにこのSyntax themeは<a href="https://atom.io/themes/flatwhite-syntax">Flatwhite</a>というもので、foreground colorを変えるのではなくbackground colorを変えるので文書作成に最適です👍&#41;</p> <p><strong>テキストエディタとしては絶望的に遅い</strong>と言われているAtomですが、不必要なコアパッケージをVisableする等の工夫をすれば速度面でも問題はない…と思っていた時期も僕にはありました。<strong>VSCodeを使い始めるまでは。</strong></p> <h4 id="light_owlに一目惚れした"><a href="#light_owlに一目惚れした" class=header-anchor >Light Owlに一目惚れした</a></h4> <p>皆さん、ライトテーマ使っていますか。<br/> VSCodeで一目惚れしてからずっと使っているテーマに<a href="https://github.com/sdras/night-owl-vscode-theme/#light-owl">Light Owl</a>があります。名前の通り、ダークテーマである<a href="https://github.com/sdras/night-owl-vscode-theme">Night Owl</a>のライトテーマ版なのですが、これは沢山の<a href="https://github.com/sdras/night-owl-vscode-theme#other-versions">他の環境</a>（テキストエディタだけでなく、端末エミュレータやAlfred, Slack等にも）に移植されるほど人気のあるテーマです。</p> <p>この記事も勿論VSCode &#43; Light Owlで書いています😉</p> <p><img src="/img/2019-12-23/vscode-light-owl.jpg" alt="VSCode Light Owl" /></p> <h4 id="atomを再び使い始めた"><a href="#atomを再び使い始めた" class=header-anchor >Atomを再び使い始めた</a></h4> <p>皆さん、Julia使っていますか。<br/> 何故AtomのSyntax themeを作っているのかと言うと、<a href="https://junolab.org/"><strong>Juno</strong></a>というAtom上に構築されたJuliaのIDEを使い始めたからです。 Julia自体は以前から使っておりJunoの存在も認知していたのですが、主に数値計算にJuliaを利用していたためエディタにはJupyter Notebook（及びJupyter Lab）を用いていました。</p> <p>2019/11/29に開催された<a href="https://juliatokyo.connpass.com/event/153435/">JuliaTokyo #10</a>で、CAMPHOR-のコアメンバーでありJunoのメンテナである<a href="https://twitter.com/kdwkshh">aviatesk</a>氏によるトークを聞いて、その便利さに感動しJunoを使い始めました。</p> <p>先程Night Owlは他の環境に移植されていると言いましたが、Atomも例外ではなく<a href="https://atom.io/themes/night-owl-vs-code-syntax">Night Owl Vs Code</a>というSyntax themeが作られています。</p> <p>しかしLight OwlはAtomに移植されていないようだったので、作ることにしました。</p> <h2 id="syntax_themeの作り方"><a href="#syntax_themeの作り方" class=header-anchor >Syntax themeの作り方</a></h2> <p>公式ドキュメントがあるのでこれを見れば良いです。<br/> <a href="https://flight-manual.atom.io/hacking-atom/sections/creating-a-theme/#creating-a-syntax-theme">Creating a Theme –- Creating a Syntax Theme</a></p> <p>..。これだけで終わるのはあれなので、少し補足をします。 </p> <h4 id="作成開始時"><a href="#作成開始時" class=header-anchor >作成開始時</a></h4> <p><code>Cmd&#43;Shift&#43;P</code> でコマンドパレットを表示し &quot;Package Generator: Generate Syntax Theme&quot; を選択すれば、<code>~/.atom/packages/</code> にシンボリックリンクの貼られたフォルダが作成されSyntax themeの作成を開始することが出来ます。しかし必要最低限の構成しか記述されていないので、この方法で真面目に作ろうとすると大変だと思います。</p> <p>1からSyntax themeを作成する場合でも、信頼出来る既存テーマをベースにして作成するほうが楽に感じました。僕はAtomのコアテーマである<a href="https://github.com/atom/atom/tree/master/packages/one-light-syntax">One Light</a>を参考にして作成しています。</p> <p><code>~/.atom/packages/</code> にシンボリックリンクを貼るにはリポジトリ直下で以下を実行します。</p> <pre><code class=language-shell >&#36; apm link</code></pre>
<h4 id="シンタックスハイライト用テストコード"><a href="#シンタックスハイライト用テストコード" class=header-anchor >シンタックスハイライト用テストコード</a></h4>
<p>言語毎のルールを作成する際などに役に立つのが<a href="https://github.com/atom/language-examples">このリポジトリ</a>です。</p>
<p>Atomにバンドルされている全ての言語のシンタックスハイライト用のテストコードがAtom公式で用意されています。</p>
<p>Syntax themeの開発は、以下が基本の流れになると思います。</p>
<ol>
<li><p><a href="https://github.com/atom/language-examples">atom/language-examples</a>をcloneしておく。</p>

<li><p>Atomのコマンドパレットから&quot;Application: Open Dev&quot;を選択し、cloneしたフォルダをDev Modeで開く。</p>

<li><p>コマンドパレットから&quot;Window: Toggle Dev Tools&quot;を選択し、Developer Toolsを開く。</p>

<li><p>フロントエンド開発をするようにStylesを確認しながら色を決めていく。</p>

</ol>
<p><img src="/img/2019-12-23/dev-mode.jpg" alt="dev mode" /></p>
<h4 id="色可視化"><a href="#色可視化" class=header-anchor >色可視化</a></h4>
<p>色の可視化とサジェストに<a href="https://atom.io/packages/pigments">Pigments</a>というパッケージが便利です。</p>
<p>Lessの変数にも対応していてかなり使いやすいです。</p>
<p><img src="/img/2019-12-23/pigments.jpg" alt=pigments  /></p>
<p>しかし、Atomが重くなるという問題があるのでSyntax themeの作成が一段落したら消したいです。.。</p>
<h2 id="できたもの"><a href="#できたもの" class=header-anchor >できたもの</a></h2>
<p><strong>Light Owl Syntax theme for Atom</strong> という完全に俺得なSyntax themeが完成しました。</p>
<p><a href="https://github.com/h3y6e/light-owl-syntax">light-owl-syntax</a></p>
<p>JavaScriptだとこんな感じ。</p>
<p><img src="/img/2019-12-23/atom-screenshot.jpg" alt="atom screenshot" /></p>
<p>比較としてVSCodeのLight Owlも載せておきます。<br/> AtomとVSCodeではシンタックスハイライトの規則が異なる為、完全な移植は出来ませんが可能な限り忠実に移植出来ていると思います。</p>
<p><img src="/img/2019-12-23/vscode-screenshot.jpg" alt="vscode screenshot" /></p>
<p>この記事を書いている時点でサポートしている言語は、以下のとおりです。</p>
<ul>
<li><p>Julia</p>

<li><p>Python</p>

<li><p>JavaScript</p>

<li><p>TypeScript</p>

<li><p>CSS</p>

<li><p>Less</p>

<li><p>GitHub Markdown</p>

</ul>
<p>勿論、他の言語も汎用的なルールによって着色はされます。</p>
<p><img src="/img/2019-12-23/gfm-less-python-js-screenshot.jpg" alt=screenshot2  /></p>
<h2 id="まとめ"><a href="#まとめ" class=header-anchor >まとめ</a></h2>
<p>自分が利用している道具が自分の手によって改善されるという体験は気持ちがいいですね。<br/> まだ移植作業は終了していませんが、Atomを使っていて且つライトテーマが好きだという人は是非使ってみて下さい😊</p>
<p><a href="https://atom.io/themes/light-owl-syntax"><img src="/img/2019-12-23/light-owl-syntax.jpg" alt="Light Owl Syntax" /></a></p>
<h3 id="あとがき"><a href="#あとがき" class=header-anchor >あとがき</a></h3>
<p>macOSでJunoを使うとブレークポイントの赤丸が切れてしまう現象が気になっていたので、Light Owl Syntaxにその修正コードを入れようかと考えていたのですが、aviatesk氏が<a href="https://github.com/JunoLab/atom-ink">atom-ink</a>にPR送ったら？と提案してくれたので初めてのOSSコミットをしました。ありがとうございます。</p>
<p><img src="/img/2019-12-23/atom-ink.jpg" alt="atom ink" /></p>
<footer class=page-foot >
  
  <p>
    <a href="https://github.com/h3y6e/blog/blob/master/posts/light-owl-syntax-theme-for-atom.md">
      
      &#xE0A0; Edit this page on GitHub
    </a>
  </p>
  
  <div class=copyright >
    <span>
      &copy; 2019-2023 <a href="https://h3y6e.com">heyhoe</a>
    </span>
    <span>::Powered py <a href="https://franklinjl.org/">Franklin.jl</a></span>
  </div>
</footer>
</div><script src="/libs/scripts/switcher.js"></script>

 <script src="/libs/highlight/highlight.min.js"></script>
<script src="/libs/highlight/ln.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
  hljs.initLineNumbersOnLoad({ singleLine: true });
  hljs.configure({ tabReplace: "    " });
</script>